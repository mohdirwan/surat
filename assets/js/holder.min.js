var Holder=Holder||{};(function(g,c){var t=false,m=false,b=document.createElement("canvas");if(!b.getContext){m=true}else{if(b.toDataURL("image/png").indexOf("data:image/png")<0){m=true}else{var l=b.getContext("2d")}}var a=1,s=1;if(!m){a=window.devicePixelRatio||1,s=l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1}var e=a/s;document.getElementsByClassName||(document.getElementsByClassName=function(z){var w=document,A,y,v,x=[];if(w.querySelectorAll){return w.querySelectorAll("."+z)}if(w.evaluate){y=".//*[contains(concat(' ', @class, ' '), ' "+z+" ')]",A=w.evaluate(y,w,null,0,null);while(v=A.iterateNext()){x.push(v)}}else{A=w.getElementsByTagName("*"),y=new RegExp("(^|\\s)"+z+"(\\s|$)");for(v=0;v<A.length;v++){y.test(A[v].className)&&x.push(A[v])}}return x});window.getComputedStyle||(window.getComputedStyle=function(v){return this.el=v,this.getPropertyValue=function(w){var x=/(\-([a-z]){1})/g;return w=="float"&&(w="styleFloat"),x.test(w)&&(w=w.replace(x,function(){return arguments[2].toUpperCase()})),v.currentStyle[w]?v.currentStyle[w]:null},this});function r(z,K){var A="complete",L="readystatechange",J=!1,C=J,F=!0,B=z.document,H=B.documentElement,E=B.addEventListener?"addEventListener":"attachEvent",I=B.addEventListener?"removeEventListener":"detachEvent",D=B.addEventListener?"":"on",w=function(v){(v.type!=L||B.readyState==A)&&((v.type=="load"?z:B)[I](D+v.type,w,J),!C&&(C=!0)&&K.call(z,null))},x=function(){try{H.doScroll("left")}catch(v){setTimeout(x,50);return}w("poll")};if(B.readyState==A){K.call(z,"lazy")}else{if(B.createEventObject&&H.doScroll){try{F=!z.frameElement}catch(G){}F&&x()}B[E](D+"DOMContentLoaded",w,J),B[E](D+L,w,J),z[E](D+"load",w,J)}}function n(w){w=w.match(/^(\W)?(.*)/);var v=document["getElement"+(w[1]?w[1]=="#"?"ById":"sByClassName":"sByTagName")](w[2]);var x=[];v!==null&&(v.length?x=v:v.length===0?x=v:x=[v]);return x}function q(w,v){var z={};for(var y in w){z[y]=w[y]}for(var x in v){z[x]=v[x]}return z}if(!Object.prototype.hasOwnProperty){Object.prototype.hasOwnProperty=function(w){var v=this.__proto__||this.constructor.prototype;return(w in this)&&(!(w in v)||v[w]!==this[w])}}function k(A,w,z){w=parseInt(w,10);A=parseInt(A,10);var v=Math.max(w,A);var y=Math.min(w,A);var B=1/12;var x=Math.min(y*0.75,0.75*v*B);return{height:Math.round(Math.max(z.size,x))}}function i(G,v,D,B,C){var z=k(v.width,v.height,D);var A=z.height;var x=v.width*B,F=v.height*B;var y=D.font?D.font:"sans-serif";b.width=x;b.height=F;G.textAlign="center";G.textBaseline="middle";G.fillStyle=D.background;G.fillRect(0,0,x,F);G.fillStyle=D.foreground;G.font="bold "+A+"px "+y;var E=D.text?D.text:(Math.floor(v.width)+"x"+Math.floor(v.height));if(C){E=D.literalText}var w=G.measureText(E).width;if(w/x>=0.75){A=Math.floor(A*0.75*(x/w))}G.font="bold "+(A*B)+"px "+y;G.fillText(E,(x/2),(F/2),x);return b.toDataURL("image/png")}function u(C,x,w,B){var y=w.dimensions,z=w.theme,A=w.text?decodeURIComponent(w.text):w.text;var v=y.width+"x"+y.height;z=(A?q(z,{text:A}):z);z=(w.font?q(z,{font:w.font}):z);x.setAttribute("data-src",B);z.literalText=v;w.originalTheme=w.theme;w.theme=z;if(C=="image"){x.setAttribute("alt",A?A:z.text?z.text+" ["+v+"]":v);if(m||!w.auto){x.style.width=y.width+"px";x.style.height=y.height+"px"}if(m){x.style.backgroundColor=z.background}else{x.setAttribute("src",i(l,y,z,e))}}else{if(C=="background"){if(!m){x.style.backgroundImage="url("+i(l,y,z,e)+")";x.style.backgroundSize=y.width+"px "+y.height+"px"}}else{if(C=="fluid"){x.setAttribute("alt",A?A:z.text?z.text+" ["+v+"]":v);if(y.height.slice(-1)=="%"){x.style.height=y.height}else{x.style.height=y.height+"px"}if(y.width.slice(-1)=="%"){x.style.width=y.width}else{x.style.width=y.width+"px"}if(x.style.display=="inline"||x.style.display===""){x.style.display="block"}if(m){x.style.backgroundColor=z.background}else{x.holderData=w;h.push(x);f(x)}}}}}function f(y){var v;if(y.nodeType==null){v=h}else{v=[y]}for(var x in v){var z=v[x];if(z.holderData){var w=z.holderData;z.setAttribute("src",i(l,{height:z.clientHeight,width:z.clientWidth},w.theme,e,!!w.literal))}}}function d(w,y){var x={theme:p.themes.gray};var z=false;for(sl=w.length,j=0;j<sl;j++){var v=w[j];if(g.flags.dimensions.match(v)){z=true;x.dimensions=g.flags.dimensions.output(v)}else{if(g.flags.fluid.match(v)){z=true;x.dimensions=g.flags.fluid.output(v);x.fluid=true}else{if(g.flags.literal.match(v)){x.literal=true}else{if(g.flags.colors.match(v)){x.theme=g.flags.colors.output(v)}else{if(y.themes[v]){x.theme=y.themes[v]}else{if(g.flags.font.match(v)){x.font=g.flags.font.output(v)}else{if(g.flags.auto.match(v)){x.auto=true}else{if(g.flags.text.match(v)){x.text=g.flags.text.output(v)}}}}}}}}}return z?x:false}var h=[];var p={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:""};g.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(w){var v=this.regex.exec(w);return{width:+v[1],height:+v[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(w){var v=this.regex.exec(w);return{width:v[1],height:v[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(w){var v=this.regex.exec(w);return{size:p.themes.gray.size,foreground:"#"+v[2],background:"#"+v[1]}}},text:{regex:/text\:(.*)/,output:function(v){return this.regex.exec(v)[1]}},font:{regex:/font\:(.*)/,output:function(v){return this.regex.exec(v)[1]}},auto:{regex:/^auto$/},literal:{regex:/^literal$/}};for(var o in g.flags){if(!g.flags.hasOwnProperty(o)){continue}g.flags[o].match=function(v){return v.match(this.regex)}}g.add_theme=function(v,w){v!=null&&w!=null&&(p.themes[v]=w);return g};g.add_image=function(A,y){var z=n(y);if(z.length){for(var x=0,v=z.length;x<v;x++){var w=document.createElement("img");w.setAttribute("data-src",A);z[x].appendChild(w)}}return g};g.run=function(w){var K=q(p,w),H=[],F=[],J=[];if(typeof(K.images)=="string"){F=n(K.images)}else{if(window.NodeList&&K.images instanceof window.NodeList){F=K.images}else{if(window.Node&&K.images instanceof window.Node){F=[K.images]}}}if(typeof(K.bgnodes)=="string"){J=n(K.bgnodes)}else{if(window.NodeList&&K.elements instanceof window.NodeList){J=K.bgnodes}else{if(window.Node&&K.bgnodes instanceof window.Node){J=[K.bgnodes]}}}t=true;for(B=0,z=F.length;B<z;B++){H.push(F[B])}var y=document.getElementById("holderjs-style");if(!y){y=document.createElement("style");y.setAttribute("id","holderjs-style");y.type="text/css";document.getElementsByTagName("head")[0].appendChild(y)}if(!K.nocss){if(y.styleSheet){y.styleSheet.cssText+=K.stylesheet}else{y.appendChild(document.createTextNode(K.stylesheet))}}var G=new RegExp(K.domain+'/(.*?)"?\\)');for(var z=J.length,B=0;B<z;B++){var v=window.getComputedStyle(J[B],null).getPropertyValue("background-image");var x=v.match(G);var E=J[B].getAttribute("data-background-src");if(x){var I=d(x[1].split("/"),K);if(I){u("background",J[B],I,v)}}else{if(E!=null){var I=d(E.substr(E.lastIndexOf(K.domain)+K.domain.length+1).split("/"),K);if(I){u("background",J[B],I,v)}}}}for(z=H.length,B=0;B<z;B++){var A,C;C=A=v=null;try{C=H[B].getAttribute("src");attr_datasrc=H[B].getAttribute("data-src")}catch(D){}if(attr_datasrc==null&&!!C&&C.indexOf(K.domain)>=0){v=C}else{if(!!attr_datasrc&&attr_datasrc.indexOf(K.domain)>=0){v=attr_datasrc}}if(v){var I=d(v.substr(v.lastIndexOf(K.domain)+K.domain.length+1).split("/"),K);if(I){if(I.fluid){u("fluid",H[B],I,v)}else{u("image",H[B],I,v)}}}}return g};r(c,function(){if(window.addEventListener){window.addEventListener("resize",f,false);window.addEventListener("orientationchange",f,false)}else{window.attachEvent("onresize",f)}t||g.run()});if(typeof define==="function"&&define.amd){define([],function(){return g})}})(Holder,window);